!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Iface={})}(this,function(e){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function a(){switch(h(arguments[0])){case"array":for(var e=[],t=0;t<arguments.length;t++)for(var n=0;n<arguments[t].length;n++)e.indexOf(arguments[t][n])<0&&e.push(arguments[t][n]);break;case"object":e={};for(var r=0;r<arguments.length;r++)Object.assign(e,arguments[r])}return e}function t(e){return!(null==e)}function f(e){return void 0===e}function n(e){return Array.isArray(e)}function u(e){return!!t(e)&&(!!e.type&&"Iface"===e.type)}var l=new(function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this)}var e,n,r;return e=t,(n=[{key:"add",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"danger",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"console";this.content=e,this.type=t,this.platforms=n,this._dispatch()}},{key:"_dispatch",value:function(){m({header:this.platforms,tail:this.type.charAt(0).toUpperCase()+this.type.slice(1)},this)}},{key:"setOptions",value:function(e){e.type&&(this.type=e.type),e.platforms&&(this.platforms=e.platforms)}},{key:"consoleInfo",value:function(){console.log(this.content)}},{key:"consoleDanger",value:function(){console.error(this.content)}},{key:"consoleError",value:function(){throw new Error(this.content)}}])&&o(e.prototype,n),r&&o(e,r),t}()),p=function(e){return"string"==typeof e&&0<e.length},d=function(e){return"function"==typeof e},y=function(e){return"[object Object]"===Object.prototype.toString.apply(e)},h=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=Object.prototype.toString.apply(e).slice(8,-1);return e=!t?e.toLowerCase():e};function m(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(y(e)){var r=e.header,o=e.tail,a=r+o;return t&&t[a]&&(a=d(t[a])?r+o:r+"Else",d(t[a]))?t[a].apply(t,i(n)):!1}return!!(t&&t[e]&&d([e]))&&t[e].apply(t,i(n))}var b="Interface cannot be invoked with 'new'. ";function v(e){this.methods=e.methods||[],this.props=e.props||[],this.base=e.base||[],this.name=e.name,this.type="Iface"}function g(e){this instanceof g&&l.add(b,"error"),p(e.name)||l.add("Interface expect name.","error");e=new v(e);return y(g.all)||(g.all={}),(g.all[e.name]=e).constructor=g,e}g.extends=function(){for(var e={props:[],methods:[],base:[],name:""},t=0;t<arguments.length;t++){var n=arguments[t];u(n)?e.base.push(n):e.name=n.name||e.name,e.props=a(e.props,n.props||[]),e.methods=a(e.methods,n.methods||[])}return g(e)},g.ensure=function(e,t){var n=t.props,r=(r=t.methods)||[],o=s(n=n||[]);try{for(o.s();!(a=o.n()).done;){var a=a.value;if(0===a.indexOf("static ")){if(f(e.constructor[a.split(" ")[1]]))return l.add("interface ".concat(t.name," expect prop ").concat(a)),!1}else if(0===a.indexOf("class ")){if(f(e[a.split(" ")[1]]))return l.add("interface ".concat(t.name," expect prop ").concat(a)),!1}else if(f(e[a]))return l.add("interface ".concat(t.name," expect prop ").concat(a)),!1}}catch(e){o.e(e)}finally{o.f()}var i=s(r);try{for(i.s();!(c=i.n()).done;){var c=c.value;if(0===c.indexOf("static ")){if(!d(e.constructor[c.split(" ")[1]]))return l.add("interface ".concat(t.name," expect methods ").concat(c)),!1}else if(0===c.indexOf("class ")){if(!d(e.constructor[c.split(" ")[1]]))return l.add("interface ".concat(t.name," expect methods ").concat(c)),!1}else if(!d(e[c]))return l.add("interface ".concat(t.name," expect methods ").concat(c)),!1}}catch(e){i.e(e)}finally{i.f()}return!0},g.isIface=u,e.Iface=g,e.addLog=l,e.dispatch=m,e.getType=h,e.isArray=n,e.isBoolean=function(e){return"boolean"==typeof e},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.apply(e)},e.isDef=t,e.isDefString=p,e.isFunction=d,e.isIface=u,e.isJSON=function(e){try{if(e="string"==typeof e?JSON.parse(e):e,n(e)||y(e)&&JSON.stringify(e))return!0}catch(e){return!1}return!1},e.isNumber=function(e){return"number"==typeof e},e.isObject=y,e.isUndefined=f,e.merge=a,Object.defineProperty(e,"__esModule",{value:!0})});
